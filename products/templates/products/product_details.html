{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container-fluid" id="product-details-container">
  <div class="row justify-content-center">

    <!-- Image column -->
    <div class="col-12 col-md-6 col-lg-5">
      <div class="image-container mt-3 mb-2">
        {% if product.image %}
          <a href="{{ product.image.url }}" target="_blank" rel="noopener">
            <img
              class="card-img-top img-fluid mx-auto d-block"
              id="product-details-image"
              src="{{ product.image.url }}"
              alt="{{ product.name }}"
            >
          </a>
        {% else %}
          <a href="{{ MEDIA_URL }}noimage.png" target="_blank" rel="noopener">
            <img
              class="card-img-top img-fluid mx-auto d-block"
              id="product-details-image"
              src="{{ MEDIA_URL }}noimage.png"
              alt="{{ product.name }}"
            >
          </a>
        {% endif %}
      </div>
    </div>

    <!-- Product Details column -->
    <div class="col-12 col-md-6 col-lg-5">
      <div class="product-details-container mb-5 mt-2 mt-md-5">

        <p class="mb-0 fw-bold text-center" id="product-name">
          {{ product.name }}
        </p>

        <p class="mt-3 fst-italic" id="product-description">
          {{ product.description }}
        </p>

        <!-- Accordion (Dimensions + Material only) -->
        <div class="accordion mt-3 w-100" id="product-info-accordion">

          <!-- Dimensions -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading-dimensions">
              <button
                class="accordion-button collapsed py-2"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapse-dimensions"
                aria-expanded="false"
                aria-controls="collapse-dimensions"
              >
                Dimensions
              </button>
            </h2>
            <div
              id="collapse-dimensions"
              class="accordion-collapse collapse"
              aria-labelledby="heading-dimensions"
            >
              <div class="accordion-body">
                <p class="mb-0" id="product-dimensions">
                  {{ product.product_dimensions }}
                </p>
              </div>
            </div>
          </div>

          <!-- Material -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading-material">
              <button
                class="accordion-button collapsed py-2"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapse-material"
                aria-expanded="false"
                aria-controls="collapse-material"
              >
                Material
              </button>
            </h2>
            <div
              id="collapse-material"
              class="accordion-collapse collapse"
              aria-labelledby="heading-material"
            >
              <div class="accordion-body">
                <p class="mb-0" id="product-material">
                  {{ product.product_material }}
                </p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
